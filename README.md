# my_note

> 피드백 또는 다른 사람들의 의견들을 나만의 것으로 만들기 위해, 개발하면서 고려하면 좋을 것 같은 내용들을 추가합니다.

## 일반
* **[2020/11/19]** 매개변수의 순서도 중요하다. 같은 타입으로 이어지는 경우 실수할 여지가 있기 때문이다.
* **[2020/11/19]** 패키지도 해당 레이어에서 사용하는 것이 맞는지 생각하라.
* **[2020/11/20]** 제대로 된 vlidation을 처리하자.
  * DB는 비싼 자원이기 때문에 사전에 미리 validation 처리를 하자.
  * Controller, Service, Model에서 Validation의 우선 순위를 생각한다면, Model -> Service -> Controller 순이라고 생각한다.
  * 경계값에 대한 validation도 고민하자.
* **[2020/11/20]** 순서에 상관없는 로직을 여러 가지를 수행해야 한다면, 가벼운 연산부터 처리하도록 하자.
* **[2020/11/26]** 무언가 예측되지 않은 예외에 대해 처리할때는 디버깅에 도움되는 로그를 남겨라.
  * 모든 예외에 대해 기계적으로 error 로깅을 남기지 마라.
  * 로그를 남겨야 할때 텍스트 포맷, 로깅레벨 등을 고민하라. (stack trace 같은 디버깅에 필요한 것들을 생각하라)
  
## Java
* **[2020/11/19]** 강제 캐스팅을 하는 경우 문제가 생길 가능성이 높으므로, 예외 처리는 꼭 하도록 하자.
* **[2020/11/19]** 컬렉션을 다루면서 때론 Stream을 사용하지 않는 것이 가독성이 좋기도 하다. (비용적인 측면도 미비한 차이므로, 가독성 차이가 크다)
* **[2020/11/20]** equals와 hashcode, toString 구현은 꼼꼼하게 하자.
* **[2020/11/20]** 생성자는 3개 -> 4개 -> 5개 순으로 체이닝하자. (작은 개수에서 많은 개수의 생성자를 호출하도록)
* **[2020/11/20]** 필드는 Immutable 상태로 먼저 만들자. (final 키워드를 선언하고, 점진적으로 리팩토링 하자)
* **[2020/11/20]** 인자가 많아지면 빌더 패턴을 고려하자.
* **[2020/11/20]** Optional을 사용해서 if-else를 쓴다면 Optional을 사용할 이유가 없다.
* **[2020/11/20]** Optional을 리턴하는 것이 아니면, 반드시 null을 리턴하지 마라.

## Spring
* **[2020/11/19]** [@RequestBody에 DTO를 사용할지, Map을 사용할지 장단점을 따져서 자신만의 기준을 만들자.](https://hyojaedev.tistory.com/34)

## DB
* **[2020/11/26]** 스칼라 서브쿼리를 사용할 때, 조회되는 row가 많으면 join을 사용하도록 하자.
  * 스칼라 서브쿼리(SELECT문에 있는 서브쿼리), 인라인 뷰(FROM절에 있는 서브쿼리), 서브쿼리(WHERE절에 있는 서브쿼리)
  * 스칼라 서브쿼리는 LEFT OUTER JOIN으로 변경이 가능하다.
* **[2021/03/11]** MAX, MIN과 ORDER BY LIMIT 1 선택하는 기준은 단일 컬럼을 나타내야 한다면 전자, 복수의 칼럼을 나타내야 한다면 후자를 선택하자
* **[2021/03/11]** 집계함수를 사용하여 특정 그룹으로 구분할 때는 GROUP BY 절을 사용하며, 특정 그룹 구분없이 중복된 데이터를 제거할 경우 DISTINCT 절을 사용하도록 하자

## 테스트
* **[2020/11/20]** Service 클래스의 모든 메서드는 가능한 테스트하도록 하자.
* **[2020/11/20]** 굳이 우선순위를 둔다면, 통합 테스트보다 단위 테스트를 확실하게 하도록 하자.
* **[2020/11/20]** 정말로 테스트 되어야 하는 부분을 생각하면서 작성하자.
* **[2021/01/31]** [최대한 단순하고, 간결하고, 표현력이 풍부하게 나타내자. assert 하나로 검증하는 것을 목표로 하지만, 하나의 테스트에 한 개념만 테스트하고 있는지 물음표를 던지도록 하자.](https://hyojaedev.tistory.com/52)
* **[2021/09/19]** 성능테스트는 Warm up time을 고려하라.
